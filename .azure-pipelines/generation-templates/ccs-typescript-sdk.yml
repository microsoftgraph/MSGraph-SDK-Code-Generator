parameters:
  - name: repoName
    type: string
  - name: packageName
    type: string
    default: '@microsoft/copilot-beta-sdk'

steps:
  - pwsh: '$(scriptsDirectory)/clean-typescript-files.ps1 -targetDirectory "$(Build.SourcesDirectory)/${{ parameters.repoName }}/packages/" -packageName "${{ parameters.packageName }}"'
    displayName: 'Remove generated models and requests from the repo folder'

  - pwsh: '$(scriptsDirectory)/copy-ccs-typescript-sdk-models.ps1 -sourceDirectory "$(kiotaDirectory)/output/" -targetDirectory "$(Build.SourcesDirectory)/${{ parameters.repoName }}/packages/"'
    displayName: "Update models"
